knitr::opts_chunk$set(
echo = TRUE,
message = FALSE,
warning = FALSE
)
library(tidycensus)
library(tidyverse)
library(sf)
census_api_key("fa67b1dbacf4fbbb1b14c875f34437c6cbdaa694")
age20 <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc",
geometry = TRUE)
View(age20)
age20 <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc",
geometry = TRUE)
age20 %>%
#filter(!NAME %in% c("Alaska","Hawaii","Puerto Rico")) %>%
ggplot(aes(fill = value))+
geom_sf()+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
age20 %>%
filter(!NAME %in% c("Alaska","Hawaii","Puerto Rico")) %>%
ggplot(aes(fill = value))+
geom_sf()+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
age20 <- get_acs(geography = "county",
variables = "B01002_001",
year = 2020,
geometry = TRUE)
age20 %>%
ggplot(aes(fill = estimate))+
geom_sf()+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
age20 <- get_acs(geography = "county",
state = "Ohio",
variables = "B01002_001",
year = 2020,
geometry = TRUE)
age20 %>%
ggplot(aes(fill = estimate))+
geom_sf()+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
age20 <- get_acs(geography = "county subdivision",
state = "Ohio",
county = "Hamilton",
variables = "B01002_001",
year = 2020,
geometry = TRUE)
age20
age20 <- get_acs(geography = "county subdivision",
state = "Ohio",
county = "Hamilton",
variables = "B01002_001",
year = 2020,
geometry = TRUE)
age20 %>%
ggplot(aes(fill = estimate))+
geom_sf()+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
age20 <- get_acs(geography = "block group",
state = "Ohio",
county = "Hamilton",
variables = "B01002_001",
year = 2020,
geometry = TRUE)
age20 %>%
ggplot(aes(fill = estimate))+
geom_sf()+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
cincy <- get_acs(geography = "county subdivision",
state = "Ohio",
county = "Hamilton",
variables = "B01002_001",
year = 2020,
geometry = TRUE) %>%
filter(NAME == "Cincinnati city, Hamilton County, Ohio") %>%
st_transform(8528)
cincy %>%
ggplot() +
geom_sf()
age20 <- get_acs(geography = "block group",
state = "Ohio",
county = "Hamilton",
variables = "B01002_001",
year = 2020,
geometry = TRUE) %>%
st_transform(8528)
age20_cincy <- age20 %>%
st_filter(st_buffer(cincy,4000),.predicate = st_within)
ggplot()+
geom_sf(data = age20_cincy,aes(fill = estimate)) +
geom_sf(data = cincy,color='red',fill=NA)+
scale_fill_viridis_c(option = "turbo") +
labs(fill= "Median Age")
ggplot() +
geom_sf(data=age20_cincy,fill='blue') +
geom_sf(data = cincy,color='red',fill=NA)
ggplot() +
geom_sf(data = cincy,color='red',fill=NA) +
geom_sf(data=age20,color="blue")
---
title: "DSCI 210: US Census Data MAPS in the tidyverse"
library(tidycensus)
library(tidyverse)
library(sf)
install.packages('tidycensus')
install.packages('tidyverse')
install.packages("tidyverse")
library(tidycensus)
library(tidyverse)
library(sf)
census_api_key("fa67b1dbacf4fbbb1b14c875f34437c6cbdaa694")
age20 <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc")
age20 %>%
ggplot(aes(x = value, y = reorder(NAME, value))) +
geom_point()
dhc.vars <- load_variables(2020, "dhc", cache = TRUE)
age20 <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc",
geometry = TRUE)
age20 <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc",
geometry = TRUE)
age20 <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc",
geometry = TRUE)
